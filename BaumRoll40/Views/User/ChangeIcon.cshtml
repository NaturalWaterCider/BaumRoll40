
@using (Html.BeginForm("ChangeIcon", "User", FormMethod.Post, new { enctype = "multipart/form-data", id = "ChangeIconForm" }))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal container mt-2">
        <h5>アイコン変更</h5>
        <p class="text-muted">画面がシンプルすぎてつらい</p>

        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group row mx-auto">
            <div class="col-10">
                <div class="custom-file col-9">
                    <input type="file" class="custom-file-input" id="lubera" name="lubera" accept="image/*" required />
                    <label class="custom-file-label" for="lubera" id="outputLubera"><span class="small">画像を選んでね！！</span></label>
                </div>
                <input type="submit" id="send" value="保存" class="btn btn-primary ml-3"  />
            </div>
        </div>
    </div>
}

@section Css{
    <style>
        label input {
            display: none;
        }

        .custom-file-label::after {
            content: "参照";
        }
    </style>
}

@section Scripts{
    <script type="text/javascript">
        $(function () {
            $('#lubera').on('change', function () {
                $('#outputLubera').html('<span class="small">' + $(this)[0].files[0].name + '</span>');
            })
        })

        //BootstrapValidator利用
        $(document).ready(function () {
            $('#ChangeIconForm').bootstrapValidator({
                message: 'This value is not valid',
                feedbackIcons: {
                    valid: 'glyphicon glyphicon-ok',
                    invalid: 'glyphicon glyphicon-remove',
                    validating: 'glyphicon glyphicon-refresh'
                },
                fields: {
                    lubera: {
                        message: 'The password is not valid',
                        validators: {
                            notEmpty: {
                                message: '入力必須です！<br>'
                            }
                        }
                    }
                }
            });
        });

    </script>

}